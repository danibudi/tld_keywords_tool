{% load i18n %}
{% get_available_languages as LANGUAGES %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<style>
.tkw
{
overflow:auto;
background-color: #b0e0e6;
box-shadow: 0px 0px 0.5em #97CBF4;
max-height:40em;
vertical-align:top!important;
width: 25em;
}
.title{
    color: blue;
    font-size:18px;
    font-weight:bold;
    text-align:center;
    margin-left:90px;
}
.errorlist {
   font-size: small!important;
}

ul.errorlist {
   font-size: small!important;
   color: red;
   text-align: left;
}
.table_kw {
    _width: 100px;
    margin: 20px auto;
    border-collapse:collapse;
    border-spacing: 0;
}
.table_kw td {
    background-color: red;
    border: 0;
    min-height: 20px;
}
.textarea {
    border: none;
    width: 100%;
    -webkit-box-sizing: border-box; /* <=iOS4, <= Android  2.3 */
    -moz-box-sizing: border-box; /* FF1+ */
    box-sizing: border-box; /* Chrome, IE8, Opera, Safari 5.1*/
}

.helptext {
    font-size: small;
    font-style: italic;
    color: green;
}

var editable = document.getElementById('editable');
addEvent(editable, 'blur', function () {
  // lame that we're hooking the blur event
  localStorage.setItem('contenteditable', this.innerHTML);
  document.designMode = 'off';
});

addEvent(editable, 'focus', function () {
  document.designMode = 'on';
});

addEvent(document.getElementById('clear'), 'click', function () {
  localStorage.clear();
  window.location = window.location; // refresh
});

if (localStorage.getItem('contenteditable')) {
  editable.innerHTML = localStorage.getItem('contenteditable');
}

.flex-container {
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    -webkit-box-direction: normal;
    -moz-box-direction: normal;
    -webkit-box-orient: horizontal;
    -moz-box-orient: horizontal;
    -webkit-flex-direction: row;
    -ms-flex-direction: row;
    flex-direction: row;
    -webkit-flex-wrap: nowrap;
    -ms-flex-wrap: nowrap;
    flex-wrap: nowrap;
    -webkit-box-pack: start;
    -moz-box-pack: start;
    -webkit-justify-content: flex-start;
    -ms-flex-pack: start;
    justify-content: flex-start;
    -webkit-align-content: stretch;
    -ms-flex-line-pack: stretch;
    align-content: stretch;
    -webkit-box-align: start;
    -moz-box-align: start;
    -webkit-align-items: flex-start;
    -ms-flex-align: start;
    align-items: flex-start;
}

.flex-item:{
    -webkit-box-ordinal-group: 1;
    -moz-box-ordinal-group: 1;
    -webkit-order: 0;
    -ms-flex-order: 0;
    order: 0;
    -webkit-box-flex: 0;
    -moz-box-flex: 0;
    -webkit-flex: 0 1 auto;
    -ms-flex: 0 1 auto;
    flex: 0 1 auto;
    -webkit-align-self: auto;
    -ms-flex-item-align: auto;
    align-self: auto;
}

/*
    Legacy Firefox implementation treats all flex containers
    as inline-block elements.
*/

@-moz-document url-prefix() {
.flex-container {
    width: 100%;
    -moz-box-sizing: border-box;
    }

}
</style>
<script type="text/javascript" src="{{ STATIC_URL }}jquery-latest.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}jquery.tablesorter.js/"></script>
<script>
$(document).ready(function()
    {
        $("#myTable").tablesorter();
    }
);
</script>
<script>
function ts() {
    var t = document.getElementById("myTable");
    alert(t);
    t.tablesorter({
        // sort on the first column and third column, order asc
        sortList: [[0,0],[2,0]]
    });
}
function get_submit_button() {
    var inputs = document.getElementsByTagName('INPUT');
    for(var i=0; i < inputs.length; i++) {
        var inp = inputs[i];
        if(inp.value == 'Set language') {
            return inp;
            break; // exits the loop
        }
    }
    return false;
}

function click_submit() {
    var inp = get_submit_button();
    if(inp) inp.click();
}
</script>


<title>
Keywords
</title>
</head>

<body style="background-image:url('/static/bground-pattern.jpg');">
<form action="" name="kw_sv_sub" method="post">{% csrf_token %}

<div class="flex-container" id="content">
    <div class="flex-item">
        <div class="tkw" ><span class="title">English Keywords</span>
        <table id="myTable" class="tablesorter" style='vertical-align:top!important;'>
            <thead>
        <tr>
            <th style="color: #666666; font-weight:bold; font-size:13px;width:10%; ">ID</a></th>
            <th style="color: #666666; font-weight:bold; font-size:13px;width:40%; ">Keywords</th>
            <th style="color: #666666; font-weight:bold; font-size:13px;width:50%; ">SV</th>

        </tr>
    </thead>

            <tbody>
                {% for kw in kwords_all %}
                <tr style="padding-bottom: .1em;">
                    <td style="background-color:white; width:10%;padding-bottom: .15em;">{{ kw.id }}</td>
                    <td style="background-color:white; width:80%;">{{ kw.kw_english }}</td>
                    <td style="background-color:white; width:auto;">{{ kw.sv_english }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
    <div class="flex-item" style="margin-left: 4em;">
        <div class="tkw" name="lang_sub" id="kwordslist">
            <input type="submit" name="lang_sub" value="Set language" style="visibility: hidden; height: 0em"/>
            <table width=100% >
            {% if formset.errors %}
            <p style="color: red;">
            Please correct the error below. {{ formset.errors }}
            </p>
            {% endif %}
                <thead>
                    <tr><p class="title" style="margin: -0.4em; padding: 0em; max-width: 22em;">
                    {% if language %}Add {{ language }} Keywords {% else %}Select Language {% endif %}{{ form_kwd_sv.language }}</p></tr>
                    <tr style='vertical-align:top!important;'>
                        <td style="color: #666666; font-weight:bold; font-size:13px;width:15%;">id</td>
                        <td style="color: #666666; font-weight:bold; font-size:13px;width:65%;">Keywords</td>
                        <td style="color: #666666; font-weight:bold; font-size:13px; margin-left:0px;">SV</td>
                    </tr>
                </thead>
            </table>
            <div class="tkw" >{{ formset.management_form }}
            {% for form in formset %}
            {{ form }}<br/>
            {% endfor %}
            </div>
        <input type="submit" name="trans_kw" value="Add translated" />
        <input type="submit" name="clear_trans_kw" value="Clear"  />
        </div>
    </div>
</div>
<div class="tkw">
{{ form_kwd_sv.management_form }}
<div class="title" style="margin-left:0em!important;">Keywords & SVs in English
{% if form_kwd_sv.errors %}
    <p style="color: red; font-size: small; text-align: left;">
    Please correct the error below.</p>
    <p style="font-size: small!important; color: red; text-align: left;"> {{ form_kwd_sv.errors }}</p>
{% endif %}
{{ form_kwd_sv.kwd_sv }}</div>
<p class="helptext">200 characters max.</p>
<p><input type="submit" name="kw_sv_sub" value="Add copied kw-sv" /></p>
</div>
</form>
</body>
</html>
